{"version":3,"file":"Projects-16b7d8ad.js","sources":["../../src/pages/workplace/Projects.vue"],"sourcesContent":["<template>\r\n  <div class=\"projects card\">\r\n    <div class=\"flex items-baseline justify-between\">\r\n      <overview-title title=\"工程项目\" subtitle=\"本月进度\" change=\"+40%\" />\r\n      <div class=\"extra\">\r\n        <a-radio-group>\r\n          <a-radio-button>全部</a-radio-button>\r\n          <a-radio-button>在线</a-radio-button>\r\n          <a-radio-button>商店</a-radio-button>\r\n        </a-radio-group>\r\n      </div>\r\n    </div>\r\n    <a-table :columns=\"columns\" :dataSource=\"dataSource\" :pagination=\"false\">\r\n      <template #bodyCell=\"{ record, text, column }\">\r\n        <template v-if=\"column.dataIndex === 'company'\">\r\n          <div class=\"flex items-center\">\r\n            <img class=\"w-6\" :src=\"text.logo\" />\r\n            <span class=\"ml-sm\">{{ text.name }}</span>\r\n          </div>\r\n        </template>\r\n        <template v-else-if=\"column.dataIndex === 'progress'\">\r\n          <a-progress size=\"small\" :percent=\"text * 100\" :status=\"mapStatus(record.status, text)\" />\r\n        </template>\r\n        <template v-else-if=\"column.dataIndex === 'members'\">\r\n          <avatar-list :size=\"28\" :source=\"text\" />\r\n        </template>\r\n      </template>\r\n    </a-table>\r\n    <a-button size=\"large\" class=\"add-btn\" type=\"dashed\">\r\n      <template #icon>\r\n        <upload-outlined />\r\n      </template>\r\n      添加新项目\r\n    </a-button>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\n  import OverviewTitle from '@/components/statistic/OverviewTitle.vue';\r\n  import AvatarList from '@/components/avatar/AvatarList.vue';\r\n  import { formatThousand } from '@/utils/formatter';\r\n\r\n  function mapStatus(status: string, progress: number) {\r\n    switch (status) {\r\n      case 'normal':\r\n        return progress < 1 ? 'active' : 'success';\r\n      case 'canceled':\r\n        return 'exception';\r\n      default:\r\n        return 'normal';\r\n    }\r\n  }\r\n\r\n  const columns = [\r\n    { title: '企业', dataIndex: 'company' },\r\n    { title: '成员', dataIndex: 'members' },\r\n    {\r\n      title: '预算',\r\n      dataIndex: 'budget',\r\n      customRender: ({ text }: { text: number }) => '￥' + formatThousand(text),\r\n      customCell: () => {\r\n        return {\r\n          style: 'color: #9e9e9e;font-weight: 700;font-size:12px;',\r\n        };\r\n      },\r\n    },\r\n    { title: '进度', dataIndex: 'progress' },\r\n  ];\r\n\r\n  const dataSource = [\r\n    {\r\n      company: { logo: '/src/assets/logo/shopify.svg', name: 'Shopify' },\r\n      members: [\r\n        { avatar: '/src/assets/avatar/face-1.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-2.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-3.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-4.jpg', nickname: 'jock' },\r\n      ],\r\n      budget: 3200.23,\r\n      status: 'normal',\r\n      progress: 0.23,\r\n    },\r\n    {\r\n      company: { logo: '/src/assets/logo/slack.svg', name: 'Shopify' },\r\n      members: [\r\n        { avatar: '/src/assets/avatar/face-3.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-4.jpg', nickname: 'jock' },\r\n      ],\r\n      budget: 1200,\r\n      status: 'normal',\r\n      progress: 0.23,\r\n    },\r\n    {\r\n      company: { logo: '/src/assets/logo/invision.svg', name: 'Shopify' },\r\n      members: [\r\n        { avatar: '/src/assets/avatar/face-4.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-2.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-3.jpg', nickname: 'jock' },\r\n      ],\r\n      budget: 1200,\r\n      status: 'normal',\r\n      progress: 0.83,\r\n    },\r\n    {\r\n      company: { logo: '/src/assets/logo/jira.svg', name: 'Shopify' },\r\n      members: [\r\n        { avatar: '/src/assets/avatar/face-1.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-4.jpg', nickname: 'jock' },\r\n      ],\r\n      budget: 1200,\r\n      status: 'normal',\r\n      progress: 1,\r\n    },\r\n    {\r\n      company: { logo: '/src/assets/logo/atlassian.svg', name: 'Shopify' },\r\n      members: [{ avatar: '/src/assets/avatar/face-1.jpg', nickname: 'jock' }],\r\n      budget: 1200,\r\n      status: 'normal',\r\n      progress: 0.47,\r\n    },\r\n    {\r\n      company: { logo: '/src/assets/logo/spotify.svg', name: 'Shopify' },\r\n      members: [\r\n        { avatar: '/src/assets/avatar/face-1.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-2.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-3.jpg', nickname: 'jock' },\r\n        { avatar: '/src/assets/avatar/face-4.jpg', nickname: 'jock' },\r\n      ],\r\n      budget: 1200,\r\n      status: 'canceled',\r\n      progress: 1,\r\n    },\r\n  ];\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .projects {\r\n    :deep(.ant-table) {\r\n      @apply -mx-md;\r\n\r\n      .ant-table-thead {\r\n        > tr > th:first-child {\r\n          @apply pl-lg;\r\n        }\r\n\r\n        > tr > th:last-child {\r\n          @apply pr-lg;\r\n        }\r\n      }\r\n\r\n      .ant-table-tbody {\r\n        > tr > td {\r\n          @apply border-b-0 border-t;\r\n\r\n          &:first-child {\r\n            @apply pl-lg;\r\n          }\r\n\r\n          &:last-child {\r\n            @apply pr-lg;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    :deep(.ant-table-thead > tr > th) {\r\n      @apply border-none bg-transparent text-subtext;\r\n\r\n      &:not(:last-child):not(.ant-table-selection-column):not(.ant-table-row-expand-icon-cell):not([colspan])::before {\r\n        @apply bg-transparent;\r\n      }\r\n    }\r\n\r\n    .add-btn {\r\n      @apply justify-center flex items-center mt-md -mx-2;\r\n      width: calc(100% + 16px);\r\n    }\r\n  }\r\n</style>\r\n"],"names":["mapStatus","status","progress","columns","text","formatThousand","dataSource"],"mappings":"2oBAyCE,SAAAA,EAAAC,EAAAC,EAAA,CACE,OAAAD,EAAA,CAAgB,IAAA,SAEZ,OAAAC,EAAA,EAAA,SAAA,UAAiC,IAAA,WAEjC,MAAA,YAAO,QAEP,MAAA,QAAO,CACX,CAGF,MAAAC,EAAA,CAAgB,CAAA,MAAA,KAAA,UAAA,SAAA,EACsB,CAAA,MAAA,KAAA,UAAA,SAAA,EACA,CACpC,MAAA,KACS,UAAA,SACI,aAAA,CAAA,CAAA,KAAAC,CAAA,IAAA,IAAAC,EAAAD,CAAA,EAC4D,WAAA,KAErE,CAAO,MAAA,iDACE,EAEX,EACF,CAAA,MAAA,KAAA,UAAA,UAAA,CACqC,EAGvCE,EAAA,CAAmB,CACjB,QAAA,CAAA,KAAA,+BAAA,KAAA,SAAA,EACmE,QAAA,CACxD,CAAA,OAAA,gCAAA,SAAA,MAAA,EACqD,CAAA,OAAA,gCAAA,SAAA,MAAA,EACA,CAAA,OAAA,gCAAA,SAAA,MAAA,EACA,CAAA,OAAA,gCAAA,SAAA,MAAA,CACA,EAC9D,OAAA,QACQ,OAAA,SACA,SAAA,GACE,EACZ,CACA,QAAA,CAAA,KAAA,6BAAA,KAAA,SAAA,EACiE,QAAA,CACtD,CAAA,OAAA,gCAAA,SAAA,MAAA,EACqD,CAAA,OAAA,gCAAA,SAAA,MAAA,CACA,EAC9D,OAAA,KACQ,OAAA,SACA,SAAA,GACE,EACZ,CACA,QAAA,CAAA,KAAA,gCAAA,KAAA,SAAA,EACoE,QAAA,CACzD,CAAA,OAAA,gCAAA,SAAA,MAAA,EACqD,CAAA,OAAA,gCAAA,SAAA,MAAA,EACA,CAAA,OAAA,gCAAA,SAAA,MAAA,CACA,EAC9D,OAAA,KACQ,OAAA,SACA,SAAA,GACE,EACZ,CACA,QAAA,CAAA,KAAA,4BAAA,KAAA,SAAA,EACgE,QAAA,CACrD,CAAA,OAAA,gCAAA,SAAA,MAAA,EACqD,CAAA,OAAA,gCAAA,SAAA,MAAA,CACA,EAC9D,OAAA,KACQ,OAAA,SACA,SAAA,CACE,EACZ,CACA,QAAA,CAAA,KAAA,iCAAA,KAAA,SAAA,EACqE,QAAA,CAAA,CAAA,OAAA,gCAAA,SAAA,MAAA,CAAA,EACI,OAAA,KAC/D,OAAA,SACA,SAAA,GACE,EACZ,CACA,QAAA,CAAA,KAAA,+BAAA,KAAA,SAAA,EACmE,QAAA,CACxD,CAAA,OAAA,gCAAA,SAAA,MAAA,EACqD,CAAA,OAAA,gCAAA,SAAA,MAAA,EACA,CAAA,OAAA,gCAAA,SAAA,MAAA,EACA,CAAA,OAAA,gCAAA,SAAA,MAAA,CACA,EAC9D,OAAA,KACQ,OAAA,WACA,SAAA,CACE,CACZ"}