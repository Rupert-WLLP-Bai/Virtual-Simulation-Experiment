import{d as Q,v as T,ol as f,r as b,b as O,c as i,e as r,g as n,w as s,cb as z,F as C,oh as G,k as y,j as x,f as d,t as c,A as J,c6 as K,D as W,oi as X,Q as ee,ok as te,og as ae}from"./index-74898ef0.js";import{_ as oe}from"./index-a749ebb9.js";import{_ as ne}from"./index-02cc34dd.js";import{_ as se,D as le}from"./index-5b047898.js";import{g as ie,_ as de}from"./file-6b89a332.js";import"./index-d388b4cd.js";const ue=["src"],ce={class:"flex justify-between pr-4"},_e=d("h4",null,"成员表格",-1),me={key:0,class:"flex items-stretch"},pe=["src"],re={class:"flex-col flex justify-evenly ml-2"},ve={class:"text-title font-bold"},fe={class:"text-xs text-subtext"},be={key:1,class:""},xe={class:"text-title font-bold"},ge={class:"text-subtext"},ye={class:"text-subtext"},ke={key:5,class:"text-subtext"},Ce=Q({__name:"AuthorTable",setup(he){const N=[{title:"AUTHOR",dataIndex:"name"},{title:"FUNCTION",dataIndex:"position"},{title:"STATUS",dataIndex:"status"},{title:"EMPLOYED",dataIndex:"time"},{title:"OPERATION",dataIndex:"edit",width:200}],k=T([{name:"Li Zhi",email:"1126263215@qq.com",avatar:"/src/assets/avatar/face-1.jpg",jobs:"developer",department:"Technical",status:1,time:f()},{name:"Li Zhi",email:"1126263215@qq.com",avatar:"/src/assets/avatar/face-2.jpg",jobs:"developer",department:"Technical",status:0,time:f()},{name:"Li Zhi",email:"1126263215@qq.com",avatar:"/src/assets/avatar/face-3.jpg",jobs:"developer",department:"Technical",status:1,time:f()},{name:"Li Zhi",email:"1126263215@qq.com",avatar:"/src/assets/avatar/face-4.jpg",jobs:"developer",department:"Technical",status:0,time:f()}]);function D(){u.value=!0,a._isNew=!0}const u=b(!1),h=t=>(t||(t={_isNew:!0}),t.name=void 0,t.email=void 0,t.avatar=void 0,t.position=[],t.department=void 0,t.jobs=void 0,t.status=0,t.time=f(),t),j=(t,e)=>{if(!e)return t;Object.keys(t).forEach(l=>t[l]=e[l])},a=T(h());function I(){return h(a)}function B(){u.value=!1,I()}const w=b(),g=b(!1);async function M(t,e){await ie(t).then(l=>{e.avatar=l})}function A(){var t;g.value=!0,(t=w.value)==null||t.validateFields().then(e=>{var l,_;e.department=(l=e==null?void 0:e.position)==null?void 0:l[0],e.jobs=(_=e==null?void 0:e.position)==null?void 0:_[1],a._isNew?k.push({...e}):j(U.value,e),u.value=!1,I()}).catch(e=>{console.error(e)}).finally(()=>{g.value=!1})}const U=b();function E(t){U.value=t,j(a,t),a.position=[a.department,a.jobs],u.value=!0}const F={0:"offline",1:"online"};return(t,e)=>{const l=O("UploadOutlined"),_=W,L=de,m=X,q=ee,P=se,S=ne,Y=le,Z=te,R=G,V=O("PlusOutlined"),$=ae,H=oe;return i(),r(C,null,[n(R,{title:a._isNew?"新增作者":"编辑作者",visible:u.value,"onUpdate:visible":e[5]||(e[5]=o=>u.value=o),onOk:A,onCancel:B},{default:s(()=>[n(Z,{ref_key:"formModel",ref:w,model:a,labelCol:{span:5},wrapperCol:{span:16}},{default:s(()=>[n(m,{label:"头像",required:"",name:"avatar"},{default:s(()=>[n(L,{"show-upload-list":!1,beforeUpload:o=>M(o,a)},{default:s(()=>[a.avatar?(i(),r("img",{key:0,class:"h-8 p-0.5 rounded border border-dashed border-border",src:a.avatar},null,8,ue)):(i(),y(_,{key:1,type:"dashed"},{icon:s(()=>[n(l)]),default:s(()=>[x(" 上传 ")]),_:1}))]),_:1},8,["beforeUpload"])]),_:1}),n(m,{label:"姓名",required:"",name:"name"},{default:s(()=>[n(q,{value:a.name,"onUpdate:value":e[0]||(e[0]=o=>a.name=o)},null,8,["value"])]),_:1}),n(m,{required:"",label:"邮箱",name:"email"},{default:s(()=>[n(q,{value:a.email,"onUpdate:value":e[1]||(e[1]=o=>a.email=o)},null,8,["value"])]),_:1}),n(m,{required:"",label:"岗位",name:"position"},{default:s(()=>[n(P,{value:a.position,"onUpdate:value":e[2]||(e[2]=o=>a.position=o),options:[{label:"IT部",value:"IT部",children:[{label:"前端开发",value:"前端开发"},{label:"后端开发",value:"后端开发"},{label:"UI设计师",value:"UI设计师"}]}]},null,8,["value"])]),_:1}),n(m,{required:"",label:"状态",name:"status"},{default:s(()=>[n(S,{style:{width:"90px"},value:a.status,"onUpdate:value":e[3]||(e[3]=o=>a.status=o),options:[{label:"offline",value:0},{label:"online",value:1}]},null,8,["value"])]),_:1}),n(m,{label:"日期",name:"time"},{default:s(()=>[n(Y,{value:a.time,"onUpdate:value":e[4]||(e[4]=o=>a.time=o)},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title","visible"]),n(H,z(t.$attrs,{columns:N,dataSource:k,pagination:!1}),{title:s(()=>[d("div",ce,[_e,n(_,{type:"primary",onClick:D,loading:g.value},{icon:s(()=>[n(V)]),default:s(()=>[x(" 新增 ")]),_:1},8,["loading"])])]),bodyCell:s(({column:o,text:p,record:v})=>[o.dataIndex==="name"?(i(),r("div",me,[d("img",{class:"w-12 rounded",src:v.avatar},null,8,pe),d("div",re,[d("span",ve,c(p),1),d("span",fe,c(v.email),1)])])):o.dataIndex==="position"?(i(),r("div",be,[d("div",xe,c(v.jobs),1),d("div",ge,c(v.department),1)])):o.dataIndex==="status"?(i(),y($,{key:2,class:"text-subtext",color:"green"},{text:s(()=>[d("span",ye,c(F[p]),1)]),_:2},1024)):o.dataIndex==="time"?(i(),r(C,{key:3},[x(c(p==null?void 0:p.format("YYYY-MM-DD")),1)],64)):o.dataIndex==="edit"?(i(),y(_,{key:4,disabled:u.value,type:"link",onClick:je=>E(v)},{icon:s(()=>[n(J(K))]),default:s(()=>[x(" 编辑 ")]),_:2},1032,["disabled","onClick"])):(i(),r("div",ke,c(p),1))]),_:1},16,["dataSource"])],64)}}});export{Ce as _};
//# sourceMappingURL=AuthorTable.vue_vue_type_script_setup_true_lang-7a5b91ae.js.map
