{"version":3,"file":"Login-edb69814.js","sources":["../../src/pages/login/Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login h-[800px] flex items-center justify-center\">\r\n    <login-box class=\"shadow-lg\" @success=\"onLoginSuccess\" />\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\n  import LoginBox from './LoginBox.vue';\r\n  import { useRouter } from 'vue-router';\r\n  import { reactive, ref } from 'vue';\r\n  import { useAccountStore, useMenuStore, useSettingStore, storeToRefs } from '@/store';\r\n\r\n  const { logout, profile } = useAccountStore();\r\n  \r\n  const router = useRouter();\r\n\r\n  function onLoginSuccess() { \r\n    router.push('/exp1/ifpug');\r\n    // profile().then((response) => {\r\n    // const { account } = response;\r\n    // console.log('login',account)\r\n\r\n    // // TODO: 更新顶部菜单栏的状态信息，这一句没用\r\n    // user.name = account.name; \r\n  // }) \r\n  }\r\n  const { navigation, useTabs, theme, contentClass } = storeToRefs(useSettingStore());\r\n  const showSetting = ref(false);\r\n  const user = reactive({\r\n    name: '',\r\n    // avatar: avatar,\r\n    menuList: [\r\n      { title: '设置', key: 'setting', icon: 'SettingOutlined', onClick: () => (showSetting.value = true) },\r\n      { type: 'divider' },\r\n      {\r\n        title: '退出登录',\r\n        key: 'logout',\r\n        icon: 'LogoutOutlined',\r\n        onClick: () => logout().then(() => router.push('/login')),\r\n      },\r\n    ],\r\n  });\r\n</script>\r\n<style scoped lang=\"less\">\r\n  .login {\r\n  }\r\n</style>\r\n"],"names":["logout","profile","useAccountStore","router","useRouter","onLoginSuccess","storeToRefs","useSettingStore","showSetting","ref","reactive"],"mappings":"qNAWE,KAAA,CAAA,OAAAA,EAAA,QAAAC,CAAA,EAAAC,EAAA,EAEAC,EAAAC,IAEA,SAAAC,GAAA,CACEF,EAAA,KAAA,aAAA,CAAyB,CAS3BG,EAAAC,EAAA,CAAA,EACA,MAAAC,EAAAC,EAAA,EAAA,EACA,OAAAC,EAAA,CAAsB,KAAA,GACd,SAAA,CAEI,CAAA,MAAA,KAAA,IAAA,UAAA,KAAA,kBAAA,QAAA,IAAAF,EAAA,MAAA,EAAA,EAC0F,CAAA,KAAA,SAAA,EAChF,CAClB,MAAA,OACS,IAAA,SACF,KAAA,iBACC,QAAA,IAAAR,IAAA,KAAA,IAAAG,EAAA,KAAA,QAAA,CAAA,CACkD,CAC1D,CACF,CAAA"}